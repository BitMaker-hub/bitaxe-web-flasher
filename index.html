<!DOCTYPE html>
<html>
  <body>
    <link rel="stylesheet" href="style.css" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.1/css/all.min.css"
    />
    <h1>Bitaxe Web Flasher</h1>

    <div id="main" style="display: none">
      <br />
      <script
        type="module"
        src="https://unpkg.com/esp-web-tools@9/dist/web/install-button.js?module"
      ></script>
      <esp-web-install-button
        id="installButton"
        manifest="firmware/manifest.json"
      ></esp-web-install-button>
      <br />
      <span
        >NOTE: Make sure to close anything using your devices com port (e.g.
        Serial monitor)</span
      >
    </div>
    <div id="notSupported" style="display: none">
      Your browser does not support the Web Serial API. Try Chrome or allow
      Serial use
    </div>

    <script>
      if (navigator.serial) {
        document.getElementById("notSupported").style.display = "none";
        document.getElementById("main").style.display = "block";
      } else {
        document.getElementById("notSupported").style.display = "block";
        document.getElementById("main").style.display = "none";
      }
    </script>
  </body>
  <footer>
    <a
      href="https://github.com/WantClue/bitaxe-web-flasher"
      target="_blank"
      title="Visit my GitHub Repository"
    >
      <i class="fab fa-github"></i> View My GitHub
    </a>
  </footer>
</html>
